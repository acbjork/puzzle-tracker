<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>üß† I'm Puzzled ‚ÄºÔ∏è - Debug</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
    body { font-family: system-ui, sans-serif; margin: 1em; }
    h1, .subtitle { text-align: center; margin: 0; }
    .subtitle { font-size: 0.95em; color: #555; margin-top: 0.2em; }
    table { width: 100%; border-collapse: collapse; margin-top: 1em; }
    th, td { border: 1px solid #ccc; padding: 0.5em; vertical-align: top; text-align: center; }
    th:first-child, td:first-child { text-align: left; }
    textarea { width: 95%; box-sizing: border-box; }
    .submitted { white-space: pre-wrap; background: #f3f3f3; padding: 0.25em 0.5em; line-height: 1.2; border-radius: 4px; }
    .winner { background-color: #d6f5d6 !important; }
    .tie { background-color: #fff9c4 !important; }
    .version { text-align: right; font-size: 0.85em; color: #888; margin-top: 2em; }
    #scoreboard { margin: 1em 0; display: flex; justify-content: space-around; font-family: monospace; font-size: 1.5em; }
    .scoreboard-label { font-weight: bold; text-align: center; }
    .scoreboard-value { display: block; font-size: 1.5em; }
    #loadingOverlay {
      position: fixed; top: 0; left: 0; width: 100%; height: 100%;
      background: white; color: #444; font-size: 1.5em;
      display: flex; align-items: center; justify-content: center; z-index: 9999;
    }
  </style>
</head>
<body>
  <div id="loadingOverlay">Loading‚Ä¶ (Debug Mode)</div>
  <h1>üß† I'm Puzzled ‚ÄºÔ∏è</h1>
  <div class="subtitle">If you ain't first, you're last</div>

  <label for="userSelect">Signed in as:
    <select id="userSelect">
      <option value="">(choose)</option>
      <option value="Adam">Adam üåµ</option>
      <option value="Jonathan">Jonathan üí©</option>
    </select>
  </label>

  <div id="scoreboard">
    <div class="scoreboard-label">ACB<span id="acbCount" class="scoreboard-value">0</span></div>
    <div class="scoreboard-label">JBB<span id="jbbCount" class="scoreboard-value">0</span></div>
    <div class="scoreboard-label">Tie<span id="tieCount" class="scoreboard-value">0</span></div>
    <div class="scoreboard-label">Remaining<span id="remainingCount" class="scoreboard-value">10</span></div>
  </div>

  <table id="puzzleTable">
    <thead>
      <tr>
        <th>Puzzle</th>
        <th>Adam üåµ</th>
        <th>Jonathan üí©</th>
      </tr>
    </thead>
    <tbody id="puzzleRows">
      <tr><td colspan="3" style="text-align: center; padding: 2em; color: #666;">Please select your name above to start</td></tr>
    </tbody>
  </table>

  <div class="version">v0.2.96 - Debug Mode</div>

<script>
  console.log("üöÄ Script started - no modules");

  // Simple variables
  let currentUser = '';
  const puzzles = ["Connections", "Strands", "On The Record", "Keyword", "NYT Mini", "Apple Mini", "Globle", "Flagle", "Wordle", "Tightrope"];
  const results = {};

  console.log("‚úÖ Variables initialized");

  // Initialize results
  puzzles.forEach(puzzle => {
    results[puzzle] = { Adam: "", Jonathan: "" };
  });

  console.log("‚úÖ Results structure created");

  // Simple user selection
  const userSelect = document.querySelector("#userSelect");
  if (userSelect) {
    userSelect.addEventListener("change", (e) => {
      currentUser = e.target.value;
      console.log("üë§ User selected:", currentUser);
      
      if (currentUser) {
        renderSimpleTable();
      }
    });
    console.log("‚úÖ User selector initialized");
  }

  function renderSimpleTable() {
    console.log("üé® Rendering table for user:", currentUser);
    
    const tbody = document.getElementById("puzzleRows");
    if (!currentUser) {
      tbody.innerHTML = '<tr><td colspan="3" style="text-align: center; padding: 2em; color: #666;">Please select your name above to start</td></tr>';
      return;
    }

    tbody.innerHTML = "";

    puzzles.forEach(puzzle => {
      const tr = document.createElement("tr");
      
      // Puzzle name
      const tdPuzzle = document.createElement("td");
      tdPuzzle.textContent = puzzle;
      tr.appendChild(tdPuzzle);

      // Adam column
      const tdAdam = document.createElement("td");
      if (currentUser === "Adam") {
        tdAdam.innerHTML = '<textarea placeholder="Paste result..."></textarea><br><button onclick="alert(\'This is just debug mode!\')">Submit</button>';
      } else {
        tdAdam.innerHTML = '<div class="submitted"></div>';
      }
      tr.appendChild(tdAdam);

      // Jonathan column
      const tdJonathan = document.createElement("td");
      if (currentUser === "Jonathan") {
        tdJonathan.innerHTML = '<textarea placeholder="Paste result..."></textarea><br><button onclick="alert(\'This is just debug mode!\')">Submit</button>';
      } else {
        tdJonathan.innerHTML = '<div class="submitted"></div>';
      }
      tr.appendChild(tdJonathan);

      tbody.appendChild(tr);
    });

    console.log("‚úÖ Table rendered successfully");
  }

  // Simple initialization
  window.addEventListener("DOMContentLoaded", () => {
    console.log("üì± DOM loaded, starting initialization...");
    
    // Hide loading overlay after 3 seconds
    setTimeout(() => {
      console.log("‚è∞ Hiding loading overlay");
      const overlay = document.getElementById("loadingOverlay");
      if (overlay) {
        overlay.style.display = "none";
        console.log("‚úÖ Loading overlay hidden");
      }
    }, 3000);

    console.log("üéØ Initialization complete");
  });

  console.log("üíØ Script setup complete");
</script>
</body>
</html>